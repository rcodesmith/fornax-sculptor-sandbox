import "classpath:/library-person-gwt.btdesign"
import "classpath:/library-gwt.btdesign"

gui LibraryWeb for Library {

	Module for main {

		View Menu {
			contents {
				link mediaBrowseLink toView MediaBrowse {
					label = "Media Browse"
				}
				
				link personLink toView PersonForm {
					label = "Person Form"
				}
				

			}
		}

	}
	
	Module for person {
		> @PersonService
		
		View PersonForm for Person {
//			> @PersonService
			
			parameters {
				String command not nullable;
				Integer id nullable;
			}
			contents {
				inputText nameField forProperty name {
					label = "Name"
				}
				inputText birthDateField  { // forProperty birthDate
					label = "Birth Date"
				}
				table table1 {
					label = "Table uno"
				}
				
				button saveButton {
					label = "Save"
				}
				
				informationalText info1 {
					label = "Info Numero Uno"
				}
				
				informationalText fullName forOp getDisplayName {
					label = "Full name"
				}
				textArea textArea1 {
					label = "Text area uno"
				}
				
//				autocomplete autocomp1 forProperty ssn {
//					label = "Auto complete one"
//				}
			}
		}
		
		View TableView {
			parameters {
				String param1;
			}
			contents {
				table personTable for Person {
					label="Person Table"
					
					columns {
						name type=Text forOp getDisplayName filterable sortable;
						
						birthDate type=Date; // forProperty birthDate

						edit type=Button onClick=populatePersonDetailsPanel;
					}
				}
				
				panel personDetailsPanel {
					contents {
						
					}
				}
				
				"this is an empty panel"
				panel personDetailsEmptyPanel {
					contents {
						
					}
				}
			}
			
		}
		
		
		"This is some MyEvent1 documentation"
		Event MyEvent1 {
			String attr1;
			
			"This is some documentation"
			Integer attr2;
			
			Date date1;
			
			DateTime dateTime1;
		}
		
		"Populate the person details panel"
		UiBehavior PopulatePanel populatePersonDetailsPanel {
			panel=personDetailsPanel
		}
	}
	
	Module for media {
		basePackage = org.fornax.cartridges.sculptor.examples.library.mediaalt
		
		View MediaBrowse {
			parameters {
				String libraryId;
			}

			contents {
				table libraryTable for Library {
					label="Library Table"
					
					columns {
						name type=Text;
					}
				}
				inputText libraryId {
					label = "Library ID"
				}

				inputText name {
					label = "Name"
				}

			}
		}
	}

}